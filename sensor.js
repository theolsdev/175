const mact = require('./mact');

bmak = {
    fpcf: {
        fpValCalculated: true,
        td: 12,
        rVal: '765',
        rCFP: '-760296088',
        fpValstr: '420217769;1243744842;dis;,7;true;true;true;-120;true;24;24;true;false;-1'
    },
    start_ts: 1659709971052,
    ckie: '_abck',
    ckie_value: 'E04A9161F44C8F849902CC852A315262~0~YAAQPe57XHJsg1yCAQAA9l0xbggD8ac3tqjNDphVzvhmSfQnYsakBj5JwsEZRUN7rcBNmtQ4yXxC/pCgKOyUqG1yPg8SbjQGIGbMhGQQDwWGeRP0KH9JlVwHQWkgtE9BcG3DHXtzL+DAI95rmmJE1wi+7LN53HnyEUmDflX5V4+HaJHKZ6MDRbuPkfO6141SUsrl2JJnoGa1cS/uZWJ4AZDLWqdSwG4NPaReuloNN12aFZFYem7zdrfmMyfG9xFwpW2NP2HJ/arWitLorMQc0OqOCdDlX9yroqDYmyj8iwz+hC7//wEfyvw9vuqm4qRCI1J//NNkAVm6uDUySX/Q56P0nNtd3dgEoyV/YRuGvs64lnXkAZkL3d2s+YOFDLi+zEIkrLW/xxT4SgYBGXtmFAoFcQTHDQ==~-1~-1~-1',
    y1: 2016,
    xagg: 12147,
    psub: '20030107',
    lang: 'fr-FR',
    prod: 'Gecko',
    plen: 5,
    pen: 0,
    wen: 0,
    den: 0,
    z1: 408367,
    d2: 17755,
    d3: 9971052,
    brv: 0,
    loc: '',
    aj_type: 6,
    aj_indx: 0,
    js_post: true,
    ke_vel: 0,
    me_vel : 340196,
    doe_vel: 3561421,
    dme_vel: 3561416,
    te_vel: 0,
    pe_vel: 0,
    init_time: 0,
    ke_cnt: 0,
    me_cnt: 760,
    pe_cnt: 2,
    te_cnt: 0,
    ta: 7374194,
    n_ck: '0',
    firstLoad: false,
    hbCalc: false,
    fmh: '77f0806668780952d424a21f35fde29cc82b856b611c90a3f3ed01c23e17cdf9',
    fmz: 1,
    ssh: '414e0619c7247fbbb982527b039125213d5829b663a51b64dc31d670e749790f',
    wv: '',
    wr: '',
    weh: '',
    wl: 0,
    mn_r: [],
    ver: 1.75,
    pua: 'Mozilla/5.0 (Windows;10.0.0;x86;64;) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.5112.79 Safari/537.36',
    informinfo: '0,0,0,0,1313,113,0;',
    kact: '',
    mact: '0,1,139,486,432;1,1,144,482,433;2,1,259,481,425;3,1,310,464,434;4,1,313,462,436;5,1,317,458,437;6,1,327,449,440;7,1,331,445,440;8,1,337,440,440;9,1,345,434,440;10,1,351,430,440;11,1,358,424,440;12,1,364,418,440;13,1,371,412,440;14,1,378,406,440;15,1,385,399,440;16,1,393,393,440;17,1,399,387,441;18,1,406,382,441;19,1,413,376,441;20,1,420,371,441;21,1,427,366,441;22,1,434,360,441;23,1,441,355,441;24,1,447,350,439;25,1,458,342,436;26,1,567,298,402;27,1,624,297,388;28,1,655,304,381;29,1,675,317,376;30,1,678,318,375;31,1,751,361,367;32,1,764,361,368;33,1,771,360,370;34,1,774,359,371;35,1,781,357,372;36,1,788,355,375;37,1,795,351,378;38,1,802,348,382;39,1,809,343,386;40,1,816,338,392;41,1,825,331,399;42,1,829,322,407;43,1,836,312,416;44,1,844,302,426;45,1,852,286,441;46,1,859,275,452;47,1,881,239,489;48,1,886,232,496;49,1,889,229,501;50,1,892,225,505;51,1,924,184,550;52,1,933,173,560;53,1,937,170,563;54,1,950,157,574;55,1,953,156,576;56,1,955,155,576;57,1,962,150,580;58,1,969,146,583;59,1,986,138,590;60,1,988,137,591;61,1,992,136,592;62,1,996,135,593;63,1,1003,133,595;64,1,1010,132,598;65,1,1017,130,600;66,1,1024,128,602;67,1,1031,126,604;68,1,1038,123,606;69,1,1045,122,608;70,1,1052,121,610;71,1,1059,120,611;72,1,1066,118,612;73,1,1080,117,614;74,1,1087,116,615;75,1,1093,115,617;76,1,1100,114,618;77,1,1107,113,618;78,1,1114,113,619;79,3,1380,113,619,-1,3;80,4,1456,113,619,-1,3;81,1,2290,219,913;82,1,2531,219,912;83,1,9803,694,309;84,1,9804,697,304;85,1,9804,702,301;86,1,9805,706,297;87,1,9806,710,293;88,1,9807,714,288;89,1,9808,719,286;90,1,9809,722,282;91,1,9810,726,279;92,1,9811,730,276;93,1,9812,735,272;94,1,9813,738,267;95,1,9813,744,263;96,1,9814,747,261;97,1,9817,752,257;98,1,9817,754,254;99,1,9818,759,250;100,1,9819,763,245;101,1,9819,766,243;',
    tact: '',
    doact: '0,127,-1,-1,-1;1,35288,-1,-1,-1;2,100721,-1,-1,-1;3,380679,-1,-1,-1;4,441320,-1,-1,-1;5,459076,-1,-1,-1;6,469246,-1,-1,-1;7,546098,-1,-1,-1;8,550657,-1,-1,-1;9,578164,-1,-1,-1;',
    dmact: '0,127,-1,-1,-1,-1,-1,-1,-1,-1,-1;1,35282,-1,-1,-1,-1,-1,-1,-1,-1,-1;2,100721,-1,-1,-1,-1,-1,-1,-1,-1,-1;3,380679,-1,-1,-1,-1,-1,-1,-1,-1,-1;4,441321,-1,-1,-1,-1,-1,-1,-1,-1,-1;5,459076,-1,-1,-1,-1,-1,-1,-1,-1,-1;6,469246,-1,-1,-1,-1,-1,-1,-1,-1,-1;7,546098,-1,-1,-1,-1,-1,-1,-1,-1,-1;8,550657,-1,-1,-1,-1,-1,-1,-1,-1,-1;9,578164,-1,-1,-1,-1,-1,-1,-1,-1,-1;',
    pact: '',
    vcact: mact,
    mr: '-1',
    nav_perm: '11321144241322243122',
    o9: 29913147,
    cs: '0a46G5m17Vrp4o4c',
    api_public_key: 'afSbep8yjnZUjq3aL010jO15Sawj2VZfdYK8uY90uxq',
    tst: 6,

    get_cf_date: function () {
        return Date.now ? Date.now() : +new Date
    },
    updatet: function () {
        return bmak.get_cf_date() - bmak.start_ts
    },
    uar: function () {
        return 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/104.0.0.0 Safari/537.36'
    },
    ab: function (t) {
        if (null == t) return -1;
        try {
            for (var a = 0, e = 0; e < t.length; e++) {
                var n = t.charCodeAt(e);
                n < 128 && (a += n)
            }
            return a
        } catch (t) {
            return -2
        }
    },
    pi: function (t) {
        return parseInt(t)
    },
    bd: function () {
        return ',cpen:0,i1:0,dm:0,cwen:0,non:1,opc:0,fc:0,sc:0,wrc:1,isc:0,vib:1,bat:1,x11:0,x12:1'
    },
    gd: function () {
        var t = bmak.uar(),
            a = '' + bmak.ab(t),
            e = bmak.start_ts / 2,
            n = -1,
            o = -1,
            m = -1,
            r = -1,
            i = -1,
            c = -1,
            b = -1;
        try {
            n = 1920;
        } catch (t) {
            n = -1;
        }
        try {
            o = 1040;
        } catch (t) {
            o = -1;
        }
        try {
            m = 1920;
        } catch (t) {
            m = -1;
        }
        try {
            r = 1080;
        } catch (t) {
            r = -1;
        }
        try {
            i = 313;
        } catch (t) {
            i = -1;
        }
        try {
            c = 1920;
        } catch (t) {
            c = -1;
        }
        try {
            b = 1920;
        } catch (t) {
            b = -1;
        }
        bmak.z1 = bmak.pi(bmak.start_ts / (bmak.y1 * bmak.y1));
        var d = Math.random(),
            s = bmak.pi(1e3 * d / 2),
            k = d + '';
         return k = k.slice(0, 11) + s, t + ',uaend,' + bmak.xagg + ',' + bmak.psub + ',' + bmak.lang + ',' + bmak.prod + ',' + bmak.plen + ',' + bmak.pen + ',' + bmak.wen + ',' + bmak.den + ',' + bmak.z1 + ',' + bmak.d3 + ',' + n + ',' + o + ',' + m + ',' + r + ',' + c + ',' + i + ',' + b + ',' + bmak.bd() + ',' + a + ',' + k + ',' + e + ',' + bmak.brv + ',loc:' + bmak.loc
    },
    getforminfo: function () {
        return '0,0,0,0,1313,113,0;0,-1,0,0,2108,2108,0;';
    },
    getdurl: function () {
        return 'https://www.zalando.fr/';
    },
    ff: function (t) {
        return String.fromCharCode(t)
    },
    cal_dis: function (t) {
        var a = t[0] - t[1],
            e = t[2] - t[3],
            n = t[4] - t[5],
            o = Math.sqrt(a * a + e * e + n * n);
        return Math.floor(o);
    },
    jrs: function (t) {
        for (var a = Math.floor(1e5 * Math.random() + 1e4), e = String(t * a), n = 0, o = [], m = e.length >= 18; o.length < 6;) o.push(parseInt(e.slice(n, n + 2))), n = m ? n + 3 : n + 2;
        return [a, bmak.cal_dis(o)];
    },
    fas: function () {
        try {
            return 30261693;
        } catch (t) {
            return 0;
        }
    },
    hbs: function () {
        try {
            return 0;
        } catch (t) {
            return 0;
        }
    },
    gwd: function () {
        try {
            return -1;
        } catch (t) {
            return 0;
        }
    },
    sed: function () {
        return '0,0,0,0,1,0,0';
    },
    mn_get_current_challenges: function () {
        return [];
    },
    sd_debug: function (t) {
        if (!bmak.js_post) {
            var a = t;
            'string' == typeof _sd_trace ? _sd_trace += a : _sd_trace = a
        }
    },
    od: function (t, a) {
        try {
            t = String(t), a = String(a);
            var e = [],
                n = a.length;
            if (n > 0) {
                for (var o = 0; o < t.length; o++) {
                    var m = t.charCodeAt(o),
                        r = t.charAt(o),
                        i = a.charCodeAt(o % n);
                    m = bmak.rir(m, 47, 57, i), m != t.charCodeAt(o) && (r = String.fromCharCode(m)), e.push(r)
                }
                if (e.length > 0) return e.join('')
            }
        } catch (t) {}
        return t
    },
    rir: function (t, a, e, n) {
        return t > a && t <= e && (t += n % (e - a)) > e && (t = t - e + a), t
    },

}

sensor = {
    gen: function () {
        var t = 0;
        try {
            t = bmak.get_cf_date();
            var a = bmak.updatet(),
                e = '3';
            bmak.ckie && (e = bmak.ckie_value);
            var n = bmak.gd(),
                o = 'do_en',
                m = 'dm_en',
                r = 't_en',
                i = o + ',' + m + ',' + r,
                c = bmak.getforminfo(),
                b = bmak.getdurl(),
                d = bmak.aj_type + ',' + bmak.aj_indx;
            !bmak.fpcf.fpValCalculated &&  (0 == bmak.js_post || bmak.aj_indx > 0) && undefined
            var s = bmak.ke_vel + bmak.me_vel + bmak.doe_vel + bmak.dme_vel + bmak.te_vel + bmak.pe_vel,
                k = bmak.ff,
                l = k(80) + k(105) + k(90) + k(116) + k(69),
                u = bmak.jrs(bmak.start_ts),
                _ = bmak.get_cf_date() - bmak.start_ts,
                f = bmak.pi(bmak.d2 / 6),
                p = bmak.fas(),
                h = bmak.hbs(),
                v = bmak.gwd(),
                g = [bmak.ke_vel + 1, bmak.me_vel + 32, bmak.te_vel + 32, bmak.doe_vel, bmak.dme_vel, bmak.pe_vel, s, a, bmak.init_time, bmak.start_ts, bmak.fpcf.td, bmak.d2, bmak.ke_cnt, bmak.me_cnt, f, bmak.pe_cnt, bmak.te_cnt, _, bmak.ta, bmak.n_ck, e, bmak.ab(e), bmak.fpcf.rVal, bmak.fpcf.rCFP, p, l, u[0], u[1], h, v],
                w = g.join(','),
                y = '' + bmak.ab(bmak.fpcf.fpValstr);
            bmak.firstLoad ? undefined : undefined, !bmak.hbCalc && (0 == bmak.js_post || bmak.aj_indx > 0) && (bmak.hbCalc = !0);
            var E = '';
            bmak.hbCalc && (E = bmak.fmh + ',' + bmak.fmz + ',' + bmak.ssh + ',' + bmak.wv + ',' + bmak.wr + ',' + bmak.weh + ',' + bmak.wl);
            var S = bmak.sed(),
                C = bmak.mn_get_current_challenges(),
                A = '',
                B = '',
                x = '';
            if (void 0 !== C[1]) {
                var M = C[1];
                void 0 !== bmak.mn_r[M] && (A = bmak.mn_r[M])
            }
            if (void 0 !== C[2]) {
                var j = C[2];
                void 0 !== bmak.mn_r[j] && (B = bmak.mn_r[j])
            }
            if (void 0 !== C[3]) {
                var L = C[3];
                void 0 !== bmak.mn_r[L] && (x = bmak.mn_r[L])
            }
            void 0 !== JSON.parse('{"brands":[{"brand":"Chromium","version":"104"},{"brand":" Not A;Brand","version":"99"},{"brand":"Google Chrome","version":"104"}],"mobile":false,"platform":"Windows"}') && true && undefined,
            bmak.sensor_data = bmak.ver + '-1,2,-94,-100,' + n + '-1,2,-94,-131,' + bmak.pua + '-1,2,-94,-101,' + i + '-1,2,-94,-105,' + bmak.informinfo + '-1,2,-94,-102,' + c + '-1,2,-94,-108,' + bmak.kact + '-1,2,-94,-110,' + bmak.mact + '-1,2,-94,-117,' + bmak.tact + '-1,2,-94,-111,' + bmak.doact + '-1,2,-94,-109,' + bmak.dmact + '-1,2,-94,-114,' + bmak.pact + '-1,2,-94,-103,' + bmak.vcact + '-1,2,-94,-112,' + b + '-1,2,-94,-115,' + w + '-1,2,-94,-106,' + d, bmak.sensor_data = bmak.sensor_data + '-1,2,-94,-119,' + bmak.mr + '-1,2,-94,-122,' + S + '-1,2,-94,-123,' + A + '-1,2,-94,-124,' + B + '-1,2,-94,-126,' + x + '-1,2,-94,-127,' + bmak.nav_perm;
            var P = 24 ^ bmak.ab(bmak.sensor_data);
            bmak.sensor_data = bmak.sensor_data + '-1,2,-94,-70,' + bmak.fpcf.fpValstr + '-1,2,-94,-80,' + y + '-1,2,-94,-116,' + bmak.o9 + '-1,2,-94,-118,' + P + '-1,2,-94,-129,' + E + '-1,2,-94,-121,', bmak.sd_debug(',s1:' + bmak.sensor_data.slice(0, 10));
        } catch (t) {
            var T = '';
            try {
                t.stack && 'string' == typeof t.stack ? T = t.stack.replace(/\"/g, "\\'") : 'string' == typeof t && (T = t.replace(/\"/g, "\\'")), T = T.slice(0, 1e3), bmak.sd_debug(',s2:' + T), bmak.sensor_data = bmak.ver + '-1,2,-94,-100,' + bmak.uar() + '-1,2,-94,-120,' + T
            } catch (t) {
                t.stack && 'string' == typeof t.stack ? T = t.stack.replace(/\"/g, "\\'") : 'string' == typeof t && (T = t.replace(/\"/g, "\\'")), T = T.slice(0, 1e3), bmak.sd_debug(',s3:' + T), bmak.sensor_data = bmak.ver + bmak.sensor_data + ',s3:' + T
            }
        }
        try {
            var F = bmak.od(bmak.cs, bmak.api_public_key).slice(0, 16),
                D = Math.floor(bmak.get_cf_date() / 36e5),
                N = bmak.get_cf_date(),
                R = F + bmak.od(D, F) + bmak.sensor_data;
            bmak.sensor_data = R + ';' + (bmak.get_cf_date() - t) + ';' + bmak.tst + ';' + (bmak.get_cf_date() - N);
        } catch (t) {}

        return bmak.sensor_data;
    }
}

console.log(sensor.gen());